<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
      .navbar-nav .nav-item .nav-link{
          color: white;
          font-weight: 400
      }
      .nav-link{
          position: relative;
      }
      
      .navbar{
          background-image: linear-gradient(135deg, #1E293B, #3B82F6);
      }
      
    </style>
    <script>
      // Set cookie if it doesn't exist
      function setCookie(name, value) {
          if (!getCookie(name)) { // Check if cookie already exists
              document.cookie = name + "=" + value + "; path=/";
          }
      }

      // Get cookie value
      function getCookie(name) {
          let cookies = document.cookie.split("; ");
          for (let cookie of cookies) {
              let [key, value] = cookie.split("=");
              if (key === name) return parseInt(value);
          }
          return null;
      }

      function updateUnreadCount() {
        var unreadCount = getCookie("unread_count");
        if (unreadCount != null && unreadCount > 0) {
          let count = 0;
          document.cookie = "unread_count" + "=" + count + "; path=/";
        }
      }
    </script>
</head>
<body>
    <header>
        <nav class="navbar bg-body-tertiary">
            <div class="container">
              <a class="navbar-brand" href="#">
                <img src="{{url_for('static', filename='images/santhiramlogo1.png')}}" alt="Logo" width="100" height="93" class="d-inline-block align-text-top">
              </a>
                <h1 style="color: white; text-align: center; margin-right: 200px;">Santhiram Engineering College <br>(Autonomous)</h1>
    
                </div>
                </nav>
                </header>

                <h2 class="p-3">Total submissions : {{ total }}</h2>
        <table class="table table-bordered table-striped">
            <tr>
                <th>s.no</th>
                <th>submission date</th>
                <th>title</th>
                <th>abstract</th>
                <th>authors</th>
                <th>keywords</th>
                <th>file</th>
            </tr>
            {% for paper in papers %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ paper.submission_date }}</td>
                <td>{{ paper.title }}</td>
                <td>{{ paper.abstract }}</td>
                <td>{{ paper.author_name }}</td>
                <td>{{ paper.keywords }}</td>
                <td>
                    <a href="{{ url_for('main.download', id=paper.id) }}" class="btn btn-primary">Download</a>
                </td>
                <td>
                    <a href="{{ url_for('main.delete', id=paper.id) }}" class="btn btn-primary">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </table>


        

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>        

<script>
    updateUnreadCount();
</script>
</body>
</html>